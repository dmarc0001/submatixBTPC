<?xml version="1.0" encoding="UTF-8"?>
<project name="BuildZaehler" default="makeVersion">
  <description>
    Hochzählen des Builds plus Datum
  </description>
 
  <property name="src.dir" value="src\de\dmarcini\buildcount"/>
  <property name="classes.dir" value="bin"/>
  <property name="bCounter" value="${src.dir}\build.txt"/>
  <property name="bVersion" value="src\de\dmarcini\submatix\pclogger\utils\BuildVersion.java"/>
	
	

  <target name="compile" description="Compiliert den Zähler">
    <!-- mkdir dir="${classes.dir}"/ -->
    <javac srcdir="${src.dir}" 
    	destdir="${classes.dir}"
    	compiler="modern"
    	includes="C:\Program Files\eclipse\plugins\org.apache.ant_1.8.3.v20120321-1730\lib\ant.jar"
    	includeAntRuntime="false"/>
  </target>

  <target name="jar" description="JARs das Prog" depends="compile">
    <jar destfile="${src.dir}\${ant.project.name}.jar" basedir="${classes.dir}"/>
  </target>
    
  <target name="makeVersion" depends="jar">
    <!--  Version hochzählen-->
    <taskdef name="countBuild" classname="de.dmarcini.buildcount.BuildCounter" classpath="${src.dir}\${ant.project.name}.jar"/>
    <countBuild message="${bCounter}#${bVersion}"/>
  </target>
</project>
